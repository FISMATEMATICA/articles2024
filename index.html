<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Artigos do arXiv de 2024</title>
</head>
<body>
  <h1>Artigos do arXiv publicados em 2024</h1>
  <ul id="resultado"></ul>

  <script>
    async function listarArtigos2024() {
      const resultadoEl = document.getElementById('resultado');
      resultadoEl.innerHTML = 'Carregando...';

      // Consulta genérica (todos os artigos) com limite de 100 resultados
      const url = 'https://export.arxiv.org/api/query?search_query=all&start=0&max_results=100';

      try {
        const resposta = await fetch(url);
        const texto = await resposta.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(texto, "text/xml");
        const entradas = xml.getElementsByTagName('entry');

        resultadoEl.innerHTML = '';
        let encontrados = 0;

        for (let i = 0; i < entradas.length; i++) {
          const entrada = entradas[i];
          const titulo = entrada.getElementsByTagName('title')[0].textContent;
          const link = entrada.getElementsByTagName('id')[0].textContent;
          const publicado = entrada.getElementsByTagName('published')[0].textContent;

          // Filtra apenas artigos de 2024
          if (publicado.slice(0, 4) !== "2024") continue;

          const li = document.createElement('li');
          li.innerHTML = `<a href="${link}" target="_blank">${titulo}</a> <br><small>Publicado em: ${publicado}</small>`;
          resultadoEl.appendChild(li);
          encontrados++;

          if (encontrados >= 20) break; // Mostra apenas os primeiros 20 artigos de 2024
        }

        if (encontrados === 0) {
          resultadoEl.innerHTML = '<li>Nenhum artigo de 2024 encontrado.</li>';
        }
      } catch (erro) {
        resultadoEl.innerHTML = `<li>Erro ao buscar artigos: ${erro.message}</li>`;
      }
    }

    // Executa ao carregar a página
    listarArtigos2024();
  </script>
</body>
</html>
